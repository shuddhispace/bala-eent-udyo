<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brick Challan</title>
</head>
<body>

<h2>üß± ‡§à‡§Ç‡§ü ‡§ö‡§æ‡§≤‡§æ‡§®</h2>

<input id="mobile" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞"><br><br>
<input id="buyerNameHi" placeholder="‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞ ‡§®‡§æ‡§Æ"><br><br>
<input id="driverHi" placeholder="‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§∞ ‡§®‡§æ‡§Æ"><br><br>
<input id="vehicle" placeholder="‡§µ‡§æ‡§π‡§® ‡§®‡§Ç‡§¨‡§∞"><br><br>

<select id="brick">
  <option value="1 ‡§®‡§Ç‡§¨‡§∞">1 ‡§®‡§Ç‡§¨‡§∞</option>
  <option value="2 ‡§®‡§Ç‡§¨‡§∞">2 ‡§®‡§Ç‡§¨‡§∞</option>
  <option value="‡§∏‡•á‡§Æ‡§æ (3 ‡§®‡§Ç‡§¨‡§∞)">‡§∏‡•á‡§Æ‡§æ (3 ‡§®‡§Ç‡§¨‡§∞)</option>
  <option value="‡§ñ‡§Ç‡§ú‡§∞">‡§ñ‡§Ç‡§ú‡§∞</option>
  <option value="‡§ó‡•Å‡§°‡§ø‡§Ø‡§æ">‡§ó‡•Å‡§°‡§ø‡§Ø‡§æ</option>
</select><br><br>

<input id="qty" type="number" placeholder="‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ"><br><br>
<input id="amount" type="number" placeholder="‡§∞‡§æ‡§∂‡§ø"><br><br>
<input id="usedNow" type="number" placeholder="Advance Used (0 if none)"><br><br>

<button onclick="save()">‡§ö‡§æ‡§≤‡§æ‡§® ‡§¨‡§®‡§æ‡§è‡§Ç</button>

<script>
function save() {
  const data = {
    mobile: document.getElementById("mobile").value,
    buyerNameHi: document.getElementById("buyerNameHi").value,
    driverHi: document.getElementById("driverHi").value,
    vehicle: document.getElementById("vehicle").value,
    brick: document.getElementById("brick").value,
    qty: document.getElementById("qty").value,
    amount: document.getElementById("amount").value,
    usedNow: document.getElementById("usedNow").value,
    kiske: "‡§∏‡•ç‡§µ‡§Ø‡§Ç"
  };

  google.script.run
    .withSuccessHandler(r => {
      if (r.success) {
        window.open(r.pdfUrl);
      } else {
        alert(r.message);
      }
    })
    .submitChallan(data);
}
</script>

</body>
</html>
